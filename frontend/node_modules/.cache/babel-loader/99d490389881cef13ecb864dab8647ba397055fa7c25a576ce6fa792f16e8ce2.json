{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';// Define the API base URL for the Render backend\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE_URL=\"https://grocery-store-management-system.onrender.com\";function Order(){const[customerName,setCustomerName]=useState('');const[products,setProducts]=useState([]);const[uoms,setUoms]=useState([]);// Initialize as empty array\nconst[productPrices,setProductPrices]=useState({});const[items,setItems]=useState([{product_id:'',quantity:1,uom_id:'',price:0,total:0}]);const[grandTotal,setGrandTotal]=useState(0);useEffect(()=>{// Fetch products\nfetch(`${API_BASE_URL}/getProducts`).then(response=>{if(!response.ok){throw new Error(`HTTP error! status: ${response.status}`);}return response.json();}).then(data=>{console.log('Fetched products:',data);// Debug\nif(Array.isArray(data)){setProducts(data);const prices={};data.forEach(product=>{prices[product.product_id]=product.price_per_unit;});setProductPrices(prices);}else{console.error('Products data is not an array:',data);setProducts([]);setProductPrices({});}}).catch(error=>console.error('Error fetching products:',error));// Fetch UOMs\nfetch(`${API_BASE_URL}/getUOM`).then(response=>{if(!response.ok){throw new Error(`HTTP error! status: ${response.status}`);}return response.json();}).then(data=>{console.log('Fetched UOMs:',data);// Debug\nif(Array.isArray(data)){setUoms(data);}else{console.error('UOMs data is not an array:',data);setUoms([]);// Ensure uoms is always an array\n}}).catch(error=>{console.error('Error fetching UOMs:',error);setUoms([]);// Ensure uoms is always an array on error\n});},[]);const addItem=()=>{setItems([...items,{product_id:'',quantity:1,uom_id:'',price:0,total:0}]);};const removeItem=index=>{const newItems=items.filter((_,i)=>i!==index);setItems(newItems);calculateGrandTotal(newItems);};const handleProductChange=(index,product_id)=>{const newItems=[...items];newItems[index].product_id=product_id;newItems[index].price=productPrices[product_id]||0;newItems[index].total=newItems[index].price*newItems[index].quantity;setItems(newItems);calculateGrandTotal(newItems);};const handleQuantityChange=(index,quantity)=>{const newItems=[...items];newItems[index].quantity=parseFloat(quantity)||1;newItems[index].total=newItems[index].price*newItems[index].quantity;setItems(newItems);calculateGrandTotal(newItems);};const handleUomChange=(index,uom_id)=>{const newItems=[...items];newItems[index].uom_id=uom_id;setItems(newItems);};const calculateGrandTotal=items=>{const total=items.reduce((sum,item)=>sum+(item.total||0),0);setGrandTotal(total);};const handleSaveOrder=()=>{if(items.some(item=>!item.product_id||item.quantity<=0||!item.uom_id)){alert('Please complete all product and UOM details.');return;}const requestPayload={customer_name:customerName,grand_total:grandTotal,order_details:items.map(item=>({product_id:item.product_id,quantity:item.quantity,uom_id:item.uom_id,total_price:item.total}))};console.log('Saving order:',requestPayload);// Debug: Log payload\nfetch(`${API_BASE_URL}/insertOrder`,{method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:`data=${JSON.stringify(requestPayload)}`}).then(response=>{if(!response.ok)throw new Error('Failed to save order');return response.json();}).then(data=>{console.log('Server response:',data);// Debug: Log response\nwindow.location.reload();// Trigger reload\nalert('Order saved successfully!');}).catch(error=>console.error('Error saving order:',error));};return/*#__PURE__*/_jsx(\"div\",{className:\"right content-page\",children:/*#__PURE__*/_jsx(\"div\",{className:\"body content rows scroll-y\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"box-info full\",id:\"taskOrderContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"new-order-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"New Order\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-xs btn-danger\",style:{marginLeft:'0px',fontSize:'14px',fontWeight:'500'},children:\"Exit Page\"})})]}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Customer Name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"customerName\",type:\"text\",className:\"form-control\",placeholder:\"Enter customer name\",value:customerName,onChange:e=>setCustomerName(e.target.value)})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section product-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Products\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-primary\",type:\"button\",onClick:addItem,children:\"Add Product\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-rows\",children:items.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"product-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Product\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"product\",className:\"form-control\",value:item.product_id,onChange:e=>handleProductChange(index,e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Product\"}),products.map(product=>/*#__PURE__*/_jsx(\"option\",{value:product.product_id,children:product.name},product.product_id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Price (Rs)\"}),/*#__PURE__*/_jsx(\"input\",{name:\"product_price\",className:\"form-control product-price\",value:item.price.toFixed(2),readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"input\",{name:\"qty\",type:\"number\",min:\"1\",className:\"form-control product-qty\",value:item.quantity,onChange:e=>handleQuantityChange(index,e.target.value)})]}),\"\\xA0 \\xA0\",/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Unit\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"uom\",className:\"form-control\",value:item.uom_id,onChange:e=>handleUomChange(index,e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Unit\"}),Array.isArray(uoms)&&uoms.length>0?uoms.map(uom=>/*#__PURE__*/_jsx(\"option\",{value:uom.uom_id,children:uom.uom_name},uom.uom_id)):/*#__PURE__*/_jsx(\"option\",{disabled:true,children:\"No Units available\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Total (Rs)\"}),/*#__PURE__*/_jsx(\"input\",{name:\"item_total\",className:\"form-control product-total\",value:item.total.toFixed(2),readOnly:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group product-row-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-danger\",type:\"button\",onClick:()=>removeItem(index),children:\"Remove\"})})]},index))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-section total-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"total-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"total-label\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Grand Total\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"total-value\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"product_grand_total\",name:\"product_grand_total\",className:\"form-control product-grand-total\",value:grandTotal.toFixed(2),readOnly:true}),/*#__PURE__*/_jsx(\"span\",{children:\"Rs\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"button\",onClick:handleSaveOrder,children:\"Save Order\"})]})})]})]})})});}export default Order;","map":{"version":3,"names":["React","useState","useEffect","Link","jsx","_jsx","jsxs","_jsxs","API_BASE_URL","Order","customerName","setCustomerName","products","setProducts","uoms","setUoms","productPrices","setProductPrices","items","setItems","product_id","quantity","uom_id","price","total","grandTotal","setGrandTotal","fetch","then","response","ok","Error","status","json","data","console","log","Array","isArray","prices","forEach","product","price_per_unit","error","catch","addItem","removeItem","index","newItems","filter","_","i","calculateGrandTotal","handleProductChange","handleQuantityChange","parseFloat","handleUomChange","reduce","sum","item","handleSaveOrder","some","alert","requestPayload","customer_name","grand_total","order_details","map","total_price","method","headers","body","JSON","stringify","window","location","reload","className","children","id","to","type","style","marginLeft","fontSize","fontWeight","name","placeholder","value","onChange","e","target","onClick","toFixed","readOnly","min","length","uom","uom_name","disabled"],"sources":["C:/Users/rohit/PycharmProjects/Grocery_Store_Management_System/frontend/src/components/Order.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// Define the API base URL for the Render backend\r\nconst API_BASE_URL = \"https://grocery-store-management-system.onrender.com\";\r\n\r\nfunction Order() {\r\n  const [customerName, setCustomerName] = useState('');\r\n  const [products, setProducts] = useState([]);\r\n  const [uoms, setUoms] = useState([]); // Initialize as empty array\r\n  const [productPrices, setProductPrices] = useState({});\r\n  const [items, setItems] = useState([\r\n    { product_id: '', quantity: 1, uom_id: '', price: 0, total: 0 }\r\n  ]);\r\n  const [grandTotal, setGrandTotal] = useState(0);\r\n\r\n  useEffect(() => {\r\n    // Fetch products\r\n    fetch(`${API_BASE_URL}/getProducts`)\r\n      .then(response => {\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        return response.json();\r\n      })\r\n      .then(data => {\r\n        console.log('Fetched products:', data); // Debug\r\n        if (Array.isArray(data)) {\r\n          setProducts(data);\r\n          const prices = {};\r\n          data.forEach(product => {\r\n            prices[product.product_id] = product.price_per_unit;\r\n          });\r\n          setProductPrices(prices);\r\n        } else {\r\n          console.error('Products data is not an array:', data);\r\n          setProducts([]);\r\n          setProductPrices({});\r\n        }\r\n      })\r\n      .catch(error => console.error('Error fetching products:', error));\r\n\r\n    // Fetch UOMs\r\n    fetch(`${API_BASE_URL}/getUOM`)\r\n      .then(response => {\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        return response.json();\r\n      })\r\n      .then(data => {\r\n        console.log('Fetched UOMs:', data); // Debug\r\n        if (Array.isArray(data)) {\r\n          setUoms(data);\r\n        } else {\r\n          console.error('UOMs data is not an array:', data);\r\n          setUoms([]); // Ensure uoms is always an array\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error('Error fetching UOMs:', error);\r\n        setUoms([]); // Ensure uoms is always an array on error\r\n      });\r\n  }, []);\r\n\r\n  const addItem = () => {\r\n    setItems([...items, { product_id: '', quantity: 1, uom_id: '', price: 0, total: 0 }]);\r\n  };\r\n\r\n  const removeItem = (index) => {\r\n    const newItems = items.filter((_, i) => i !== index);\r\n    setItems(newItems);\r\n    calculateGrandTotal(newItems);\r\n  };\r\n\r\n  const handleProductChange = (index, product_id) => {\r\n    const newItems = [...items];\r\n    newItems[index].product_id = product_id;\r\n    newItems[index].price = productPrices[product_id] || 0;\r\n    newItems[index].total = newItems[index].price * newItems[index].quantity;\r\n    setItems(newItems);\r\n    calculateGrandTotal(newItems);\r\n  };\r\n\r\n  const handleQuantityChange = (index, quantity) => {\r\n    const newItems = [...items];\r\n    newItems[index].quantity = parseFloat(quantity) || 1;\r\n    newItems[index].total = newItems[index].price * newItems[index].quantity;\r\n    setItems(newItems);\r\n    calculateGrandTotal(newItems);\r\n  };\r\n\r\n  const handleUomChange = (index, uom_id) => {\r\n    const newItems = [...items];\r\n    newItems[index].uom_id = uom_id;\r\n    setItems(newItems);\r\n  };\r\n\r\n  const calculateGrandTotal = (items) => {\r\n    const total = items.reduce((sum, item) => sum + (item.total || 0), 0);\r\n    setGrandTotal(total);\r\n  };\r\n\r\n  const handleSaveOrder = () => {\r\n    if (items.some(item => !item.product_id || item.quantity <= 0 || !item.uom_id)) {\r\n      alert('Please complete all product and UOM details.');\r\n      return;\r\n    }\r\n    const requestPayload = {\r\n      customer_name: customerName,\r\n      grand_total: grandTotal,\r\n      order_details: items.map(item => ({\r\n        product_id: item.product_id,\r\n        quantity: item.quantity,\r\n        uom_id: item.uom_id,\r\n        total_price: item.total\r\n      }))\r\n    };\r\n    console.log('Saving order:', requestPayload); // Debug: Log payload\r\n    fetch(`${API_BASE_URL}/insertOrder`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n      body: `data=${JSON.stringify(requestPayload)}`\r\n    })\r\n      .then(response => {\r\n        if (!response.ok) throw new Error('Failed to save order');\r\n        return response.json();\r\n      })\r\n      .then(data => {\r\n        console.log('Server response:', data); // Debug: Log response\r\n        window.location.reload(); // Trigger reload\r\n        alert('Order saved successfully!');\r\n      })\r\n      .catch(error => console.error('Error saving order:', error));\r\n  };\r\n\r\n  return (\r\n    <div className=\"right content-page\">\r\n      <div className=\"body content rows scroll-y\">\r\n        <div className=\"box-info full\" id=\"taskOrderContainer\">\r\n          <div className=\"new-order-header\">\r\n            <h2>New Order</h2>\r\n            <Link to=\"/\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-xs btn-danger\"\r\n                style={{ marginLeft: '0px', fontSize: '14px', fontWeight: '500' }}\r\n              >\r\n                Exit Page\r\n              </button>\r\n            </Link>\r\n          </div>\r\n          <form>\r\n            <div className=\"form-section\">\r\n              <div className=\"form-group\">\r\n                <label>Customer Name</label>\r\n                <input\r\n                  name=\"customerName\"\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Enter customer name\"\r\n                  value={customerName}\r\n                  onChange={(e) => setCustomerName(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-section product-section\">\r\n              <div className=\"product-header\">\r\n                <h3>Products</h3>\r\n                <button\r\n                  className=\"btn btn-sm btn-primary\"\r\n                  type=\"button\"\r\n                  onClick={addItem}\r\n                >\r\n                  Add Product\r\n                </button>\r\n              </div>\r\n              <div className=\"product-rows\">\r\n                {items.map((item, index) => (\r\n                  <div className=\"product-row\" key={index}>\r\n                    <div className=\"form-group\">\r\n                      <label>Product</label>\r\n                      <select\r\n                        name=\"product\"\r\n                        className=\"form-control\"\r\n                        value={item.product_id}\r\n                        onChange={(e) => handleProductChange(index, e.target.value)}\r\n                      >\r\n                        <option value=\"\">Select Product</option>\r\n                        {products.map(product => (\r\n                          <option key={product.product_id} value={product.product_id}>\r\n                            {product.name}\r\n                            {/* {` (Rs ${product.price_per_unit} per ${product.uom_name})`} */}\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label>Price (Rs)</label>\r\n                      <input\r\n                        name=\"product_price\"\r\n                        className=\"form-control product-price\"\r\n                        value={item.price.toFixed(2)}\r\n                        readOnly\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label>Quantity</label>\r\n                      <input\r\n                        name=\"qty\"\r\n                        type=\"number\"\r\n                        min=\"1\"\r\n                        className=\"form-control product-qty\"\r\n                        value={item.quantity}\r\n                        onChange={(e) => handleQuantityChange(index, e.target.value)}\r\n                      />\r\n                    </div>\r\n                     \r\n                     \r\n                    <div className=\"form-group\">\r\n                      <label>Unit</label>\r\n                      <select\r\n                        name=\"uom\"\r\n                        className=\"form-control\"\r\n                        value={item.uom_id}\r\n                        onChange={(e) => handleUomChange(index, e.target.value)}\r\n                      >\r\n                        <option value=\"\">Select Unit</option>\r\n                        {Array.isArray(uoms) && uoms.length > 0 ? (\r\n                          uoms.map(uom => (\r\n                            <option key={uom.uom_id} value={uom.uom_id}>\r\n                              {uom.uom_name}\r\n                            </option>\r\n                          ))\r\n                        ) : (\r\n                          <option disabled>No Units available</option>\r\n                        )}\r\n                      </select>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label>Total (Rs)</label>\r\n                      <input\r\n                        name=\"item_total\"\r\n                        className=\"form-control product-total\"\r\n                        value={item.total.toFixed(2)}\r\n                        readOnly\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group product-row-actions\">\r\n                      <button\r\n                        className=\"btn btn-sm btn-danger\"\r\n                        type=\"button\"\r\n                        onClick={() => removeItem(index)}\r\n                      >\r\n                        Remove\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-section total-section\">\r\n              <div className=\"total-row\">\r\n                <div className=\"total-label\">\r\n                  <strong>Grand Total</strong>\r\n                </div>\r\n                <div className=\"total-value\">\r\n                  <input\r\n                    id=\"product_grand_total\"\r\n                    name=\"product_grand_total\"\r\n                    className=\"form-control product-grand-total\"\r\n                    value={grandTotal.toFixed(2)}\r\n                    readOnly\r\n                  />\r\n                  <span>Rs</span>\r\n                </div>\r\n                <button\r\n                  className=\"btn btn-primary\"\r\n                  type=\"button\"\r\n                  onClick={handleSaveOrder}\r\n                >\r\n                  Save Order\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Order;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}